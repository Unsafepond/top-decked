<%= render partial: "layouts/navbar" %>
<div class="cards col s4">
  <% cache do %>
  <h5 class="title">All Cards</h5>
  <table cellspacing="0" cellpadding="0" border="0" width="350">
   <tr>
    <td>
     <table cellspacing="0" cellpadding="1" border="1" width="350">
       <tr style="color:white;background-color:grey">
        <th class="name">
          Name
        </th>
        <th class="mana">
          Cost
        </th>
        <th class="type">
          Type
        </th>
        <th class="set">
          Set
        </th>
       </tr>
     </table>
    </td>
   </tr>
  <tr>
  <td>
     <div style="width:370px; height:300px; overflow:auto;">
       <table cellspacing="0" cellpadding="1" border="1" width="350">
         <% @cards.each do |card| %>
          <tr class="card" id="<%= card.id %>">
            <td class="name ptd" id="<%= card.image_url %>">
              <%= card.name %>
            </td>
            <td class="mana mwt">
              <%= card.mana_cost %>
            </td>
            <td class="type ptd">
              <%= card.card_type %>
            </td>
            <td class="set mwt">
              <%= card.set %>
            </td>
          </tr>
        <% end %>
       </table>  
     </div>
    </td>
   </tr>
  </table>
  
  <%= form_tag deck_path(@deck.id), method: :patch, class: "card-id" %>
  <%= hidden_field_tag "card-id" %>
  <%= submit_tag "Add to Deck" %>
  <% end %>
</div>

<div class="col s4 offset-s4" id="cardImage" style="background-color:white;">
</div>

<div class="deck col s4 offset-s8">
  <h5 class="title">Deck</h5>
  <table cellspacing="0" cellpadding="0" border="0" width="350">
   <tr>
    <td>
     <table cellspacing="0" cellpadding="1" border="1" width="350" >
       <tr style="color:white;background-color:grey">
        <th class="name">
          Name
        </th>
        <th class="mana">
          Cost
        </th>
        <th class="type">
          Type
        </th>
        <th class="set">
          Set
        </th>
       </tr>
     </table>
    </td>
   </tr>
  <tr>
  <td>
     <div style="width:370px; height:300px; overflow:auto;">
       <table cellspacing="0" cellpadding="1" border="1" width="350" >
         <% @deck_cards.each do |card, quantity| %>
          <tr class="card" id="<%= card.id %>">
            <td class="ptd">
              <% if quantity > 1 %>
                <%= "#{card.name}(#{quantity})"%>
              <% else %>
                <%= card.name %>
              <% end %>
            </td>
            <td class="mwt">
              <%= card.mana_cost %>
            </td>
            <td class="ptd">
              <%= card.card_type %>
            </td>
            <td class="mwt">
              <%= card.set %>
            </td>
          </tr>
        <% end %>
       </table>  
     </div>
    </td>
   </tr>
  </table>
  <%= submit_tag "Remove From Deck" %>
  <p class="count">Cards: <%= @card_count %></p>
</div>

<div class="filters">
  <h4 class="title"> Filters: </h4>
  <div class="color-filters">
      <a class="btn-floating btn-large waves-effect waves-light" id="wButton">
        <img src="/assets/wMana.png" width="55" height="55"></img>
      </a>
      <a class="btn-floating btn-large waves-effect waves-light" id="gButton">
        <img src="/assets/gMana.png" width="55" height="55"></img>
      </a>
      <a class="btn-floating btn-large waves-effect waves-light" id="rButton">
        <img src="/assets/rMana.png" width="55" height="55"></img>
      </a>
      <a class="btn-floating btn-large waves-effect waves-light" id="bButton">
        <img src="/assets/bMana.png" width="55" height="55"></img>
      </a>
      <a class="btn-floating btn-large waves-effect waves-light" id="uButton">
        <img src="/assets/uMana.png" width="55" height="55"></img>
      </a>
  </div>
</div>

<script src="/assets/deck_creation.js"></script>